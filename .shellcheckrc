# ShellCheck configuration for ContainAI
# https://www.shellcheck.net/wiki/

# Default shell dialect
shell=bash

# Enable external sourcing (for source ./lib/*.sh patterns)
external-sources=true

# Disable specific warnings that conflict with project conventions:

# SC2034: Variable appears unused (false positives with sourced files)
disable=SC2034

# SC1091: Not following sourced files (we use external-sources instead)
disable=SC1091

# SC2155: Declare and assign separately (allowed for simple cases)
# Uncomment if you want to allow: local foo=$(cmd)
# disable=SC2155

# SC2317: Command appears unreachable (false positive for sourced scripts)
# The "return 1 2>/dev/null || exit 1" pattern handles both sourced and direct execution
disable=SC2317

# SC1007: Remove space after = if trying to assign a value (intentional for clearing env vars)
# Pattern: DOCKER_CONTEXT= DOCKER_HOST= docker ... (clears inherited env vars)
disable=SC1007

# SC2088: Tilde does not expand in quotes (intentional for pattern matching)
# Pattern: [[ "$var" == "~/"* ]] checks if string starts with ~/
disable=SC2088

# SC2029: Note that, unescaped, this expands on the client side (intentional for SSH scripts)
# We intentionally pass shell scripts to SSH for execution
disable=SC2029

# SC2016: Expressions don't expand in single quotes (intentional for literal strings)
# We use single quotes when we want literal $ in scripts passed to containers
disable=SC2016

# Coding Agents MCP Configuration
# This single config.toml is auto-converted for all agents

# Model settings (adjust per your needs)
model = "gpt-5-codex"
model_reasoning_effort = "high"

# Zero prompts - agents never ask permission
approval_policy = "always"

# Enable MCP client features
rmcp_client = true
web_search_request = true

# Sandbox settings - configurable network access
# Set to false when launching with --network-proxy restricted
[sandbox_workspace_write]
network_access = true  # Change to false for restricted mode
allow_all = true       # Change to false for restricted mode

# Environment variable policy - allow all except secrets
[shell_environment_policy]
inherit = "all"
experimental_use_profile = true


[mcp_servers.github]
url = "https://api.githubcopilot.com/mcp"
bearer_token_env_var = "GITHUB_TOKEN"

[mcp_servers.uno]
url = "https://mcp-docs.platform.uno/v1"

[mcp_servers.msftdocs]
url = "https://learn.microsoft.com/api/mcp"

[mcp_servers.playwright]
command = "npx"
args = ["@playwright/mcp@latest", "--isolated", "--headless"]

[mcp_servers.context7]
command = "npx"
args = ["-y","@upstash/context7-mcp","--api-key", "${CONTEXT7_API_KEY}"]

[mcp_servers.serena]
command = "uvx"
args = ["--from", "git+https://github.com/oraios/serena", "serena", "start-mcp-server", "--context", "codex"]

[mcp_servers.sequential-thinking]
command = "npx"
args = ["-y", "@modelcontextprotocol/server-sequential-thinking"]

# Trust the mounted workspace - works with any repository
[projects."/workspace"]
trust_level = "trusted"

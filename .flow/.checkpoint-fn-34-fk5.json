{
  "created_at": "2026-02-01T15:34:02.590272Z",
  "epic": {
    "data": {
      "branch_name": "fn-34-fk5",
      "created_at": "2026-01-28T10:14:46.646752Z",
      "depends_on_epics": [
        "fn-36-rb7",
        "fn-31-gib",
        "fn-41-9xt",
        "fn-42-cli-ux-fixes-hostname-reset-wait-help"
      ],
      "id": "fn-34-fk5",
      "next_task": 1,
      "plan_review_status": "unknown",
      "plan_reviewed_at": null,
      "spec_path": ".flow/specs/fn-34-fk5.md",
      "status": "open",
      "title": "One-Shot Execution & Container Lifecycle",
      "updated_at": "2026-01-30T03:55:35.073887Z"
    },
    "spec": "# fn-34-fk5 One-Shot Execution & Container Lifecycle\n\n## Overview\n\nRedesign `cai run` to be the primary way to execute agents, with a simpler command syntax. Also address the complex problem of knowing when to spin down containers safely. This epic consolidates work from fn-12-css (exec), fn-18-g96 (container UX), and fn-19-qni (lifecycle/cleanup).\n\n**Key Change:** `cai run` requires an agent and executes it directly. Running `cai` without parameters shows help.\n\n## Scope\n\n### In Scope\n- **Redesigned `cai run`:** `cai run [options] <agent> -- <agent args>`\n- Agent is **required** for `cai run`\n- Default agent configurable (global and per-workspace)\n- `cai` with no params shows help\n- Handy aliases for common patterns\n- Synchronous execution with stdio/stderr passthrough\n- Exit code passthrough\n- Session detection (VS Code, SSH connections)\n- Graceful container lifecycle management\n- **`cai gc` command** (from fn-19-qni) - prune stale containers/images\n- **`--reset` flag** (from fn-19-qni) - wipe data volume\n- **`cai status` command** - show container status and sessions\n- **`--container` parameter** (from fn-18-g96) - explicit container selection\n- **Container lookup helper** (from fn-18-g96) - `_cai_find_workspace_container()`\n\n### Out of Scope\n- Automatic container shutdown (too risky for data loss)\n- Background job queuing\n- Multi-command pipelines\n- Container orchestration\n- Shell completion (keep in separate epic or defer)\n\n## Approach\n\n### New `cai run` Syntax\n\n```bash\n# Run claude with arguments after --\ncai run claude -- \"Fix the bug in main.py\"\n\n# Run gemini\ncai run gemini -- \"Explain this code\"\n\n# Run with workspace option\ncai run --workspace /path/to/project claude -- \"Add tests\"\n\n# Short form with default agent (if configured)\ncai run -- \"Fix the bug\"  # Uses default agent from config\n```\n\n**Syntax:** `cai run [run-options] <agent> -- <agent-arguments>`\n\n**Run Options:**\n- `--workspace PATH` - Override workspace directory\n- `--template NAME` - Use specific template\n- `--fresh` - Recreate container (keep volume)\n- `--reset` - Recreate container AND wipe data volume (from fn-19-qni)\n- `--import` - Run import before agent\n- `--container NAME` - Explicit container name (from fn-18-g96)\n\n**Agent is required** unless a default is configured. If no agent and no default:\n```\n$ cai run -- \"Fix this bug\"\n[ERROR] No agent specified and no default agent configured.\n\nUsage: cai run [options] <agent> -- <agent arguments>\n\nExamples:\n  cai run claude -- \"Fix the bug in main.py\"\n  cai run gemini -- \"Explain this code\"\n\nTo set a default agent, add to ~/.config/containai/config.toml:\n  [agent]\n  default = \"claude\"\n\nOr per-workspace in .containai/config.toml:\n  [agent]\n  default = \"gemini\"\n```\n\n### Default Agent Configuration\n\n**Global default** (`~/.config/containai/config.toml`):\n```toml\n[agent]\ndefault = \"claude\"\n```\n\n**Per-workspace** (`.containai/config.toml` in workspace):\n```toml\n[agent]\ndefault = \"gemini\"  # Overrides global for this workspace\n```\n\n### `cai` Without Parameters Shows Help\n\n```\n$ cai\nContainAI - Sandboxed container environment for AI coding agents\n\nUsage:\n  cai run <agent> -- <args>    Run an agent with arguments\n  cai shell                     Open interactive shell\n  cai import                    Sync configs from host\n  cai export                    Export data volume\n  cai stop                      Stop container\n  cai status                    Show container status\n  cai gc                        Clean up stale containers\n  cai doctor                    Check system health\n  cai help                      Show detailed help\n\nExamples:\n  cai run claude -- \"Fix the bug in main.py\"\n  cai shell\n  cai import --dry-run\n\nRun 'cai help' for full documentation.\n```\n\n### Handy Aliases\n\nFor common workflows, provide shell aliases or wrapper functions:\n\n```bash\n# In ~/.bashrc or suggested by cai\nalias claude='cai run claude --'\nalias gemini='cai run gemini --'\nalias codex='cai run codex --'\n```\n\nUsage:\n```bash\nclaude \"Fix the bug in main.py\"\ngemini \"Explain this code\"\n```\n\nDocument these aliases in help and quickstart.\n\n### Container GC (from fn-19-qni)\n\nNew command to prune stale ContainAI resources:\n\n```bash\ncai gc                    # Interactive: show candidates, confirm\ncai gc --dry-run          # List what would be removed\ncai gc --force            # Skip confirmation\ncai gc --age 7d           # Only prune containers older than 7 days\ncai gc --images           # Also prune unused images\n```\n\n**Protection mechanism:**\n- Resources with label `containai.keep=true` are never pruned\n- Running containers are never pruned\n- Containers with active sessions are never pruned\n- Only prunes ContainAI-managed resources (label `containai.managed=true`)\n\n### Execution Flow\n\n1. Parse arguments, extract agent and agent-args\n2. Resolve workspace (current directory or `--workspace`)\n3. Find or create container for workspace (using lookup helper)\n4. Start container if stopped\n5. Run import if `--import` flag or new container\n6. Execute via SSH: `ssh container '<agent> <agent-args>'`\n7. Stream stdout/stderr to host terminal\n8. Return agent's exit code\n9. Do NOT stop container (may have other sessions)\n\n### Session Detection\n\nBefore any container lifecycle action, detect active sessions:\n\n**Detection Function:**\n```bash\n_cai_has_active_sessions() {\n    local container=\"$1\"\n    local ssh_count pty_count\n\n    # Count SSH connections\n    ssh_count=$(ssh \"$container\" 'ss -t state established sport = :22 | tail -n +2 | wc -l' 2>/dev/null || echo 0)\n\n    # Count active PTYs (terminals)\n    pty_count=$(ssh \"$container\" 'ls /dev/pts/ 2>/dev/null | grep -c \"^[0-9]\"' 2>/dev/null || echo 0)\n\n    # If multiple PTYs or SSH connections, likely has active sessions\n    [[ \"$ssh_count\" -gt 1 || \"$pty_count\" -gt 1 ]]\n}\n```\n\n### Container Lifecycle Rules\n\n**Rule 1: Never Auto-Stop Running Containers**\n- `cai run` does not stop the container after execution\n- `cai shell` does not stop the container on exit\n- Only explicit `cai stop` stops containers\n\n**Rule 2: Warn Before Stopping with Active Sessions**\n```\n$ cai stop\n[WARN] Container has 2 active sessions:\n       - SSH connection from 192.168.1.100\n       - VS Code attached (3 open files)\n\nStop anyway? [y/N]:\n```\n\n**Rule 3: Provide Session Information**\n```\n$ cai status\nContainer: containai-myproject-main\n  Status: running\n  Uptime: 3 days, 4 hours\n  Sessions:\n    - SSH: 2 connections\n    - PTYs: 3 active\n    - VS Code: attached\n  Resources:\n    - Memory: 1.2GB / 4GB\n    - CPU: 5%\n```\n\n## Tasks\n\n### fn-34-fk5.1: Redesign cai run command\nImplement new syntax: `cai run [options] <agent> -- <agent args>`. Parse arguments, handle `--` separator.\n\n### fn-34-fk5.2: Implement default agent configuration\nAdd `[agent].default` config option. Support global and per-workspace overrides.\n\n### fn-34-fk5.3: Update cai with no params to show help\nRemove default \"run\" behavior. Show concise help when no subcommand given.\n\n### fn-34-fk5.4: Implement helpful error for missing agent\nWhen agent not specified and no default, show helpful message with config example.\n\n### fn-34-fk5.5: Implement stdio/stderr passthrough\nEnsure terminal output from container streams to host correctly. Handle TTY allocation.\n\n### fn-34-fk5.6: Implement exit code passthrough\nReturn the agent's exit code from `cai run`. Enable scripts to check success/failure.\n\n### fn-34-fk5.7: Document handy aliases\nCreate documentation showing alias setup for common agents. Include in quickstart.\n\n### fn-34-fk5.8: Implement session detection\nCreate `_cai_has_active_sessions()` function. Detect SSH connections, PTYs, VS Code.\n\n### fn-34-fk5.9: Add session warning to cai stop\nBefore stopping, check for active sessions. Warn and prompt for confirmation.\n\n### fn-34-fk5.10: Implement cai status command\nShow container status including uptime, resource usage, and active sessions.\n\n### fn-34-fk5.11: Implement cai gc command (from fn-19-qni)\nPrune stale containers/images with configurable retention. Respect active sessions.\n\n### fn-34-fk5.12: Add --reset flag to cai run (from fn-19-qni)\nWipe data volume AND recreate container. Require confirmation.\n\n### fn-34-fk5.13: Implement --container parameter (from fn-18-g96)\nAllow explicit container selection. Derive workspace/volume from container labels.\n\n### fn-34-fk5.14: Implement container lookup helper (from fn-18-g96)\nCreate `_cai_find_workspace_container()` with workspace label and new naming format.\n\n### fn-34-fk5.15: Document container lifecycle behavior\nWrite clear documentation on when containers are created, started, stopped, and destroyed.\n\n### fn-34-fk5.16: Add --export flag to cai stop\nOptional flag to run export before stopping for work preservation.\n\n## Quick commands\n\n```bash\n# Run agent with prompt\ncai run claude -- \"Fix the bug in main.py\"\n\n# Run with workspace\ncai run --workspace ~/project gemini -- \"Explain this\"\n\n# Check container status\ncai status\n\n# Stop with session warning\ncai stop\n\n# Force stop (dangerous)\ncai stop --force\n\n# Stop with backup\ncai stop --export\n\n# Reset volume\ncai run --reset claude -- \"Start fresh\"\n\n# Garbage collect\ncai gc --dry-run\ncai gc --age 7d\n```\n\n## Acceptance\n\n- [ ] `cai run <agent> -- <args>` executes agent with arguments\n- [ ] Agent required for `cai run` (error if missing and no default)\n- [ ] Default agent configurable (global and per-workspace)\n- [ ] `cai` with no params shows concise help\n- [ ] Helpful error message when no agent specified\n- [ ] Output streams to host terminal in real-time\n- [ ] Exit code from agent returned to host\n- [ ] Session detection identifies SSH and VS Code connections\n- [ ] `cai stop` warns when active sessions detected\n- [ ] `cai stop --force` skips warning\n- [ ] `cai status` shows sessions and resource usage\n- [ ] `cai gc` prunes stale containers with configurable age\n- [ ] `cai gc --dry-run` shows candidates without removing\n- [ ] Running containers and `containai.keep=true` protected from GC\n- [ ] `cai run --reset` wipes data volume (with confirmation)\n- [ ] `--container` parameter works for explicit container selection\n- [ ] Documentation includes alias examples\n- [ ] GC never prunes containers with active sessions\n\n## Supersedes\n\n- **fn-12-css** `cai exec` tasks\n- **fn-18-g96** container UX tasks (except templates and shell completion)\n- **fn-19-qni** `cai gc`, `--reset` flag, lifecycle tasks\n\n## Superseded By\n\n- **fn-36-rb7** supersedes tasks: `--container` parameter, container lookup helper, workspace state persistence, container naming\n\n## Dependencies\n\n- **fn-36-rb7** (should complete first): CLI UX consistency provides workspace state, consistent `--container` semantics, container naming\n- **fn-31-gib**: Import reliability (run needs working import)\n- **fn-33-lp4**: User Templates (template building for containers)\n\n## References\n\n- fn-12-css spec: `.flow/specs/fn-12-css.md` (existing exec concept)\n- fn-18-g96 spec: `.flow/specs/fn-18-g96.md` (container UX)\n- fn-19-qni spec: `.flow/specs/fn-19-qni.md` (existing lifecycle concept)\n- SSH session detection: `ss` command, `/dev/pts/` enumeration\n- VS Code Remote: https://code.visualstudio.com/docs/remote/ssh\n"
  },
  "epic_id": "fn-34-fk5",
  "schema_version": 2,
  "tasks": [
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T10:18:56.075710Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.1",
        "priority": 1,
        "spec_path": ".flow/tasks/fn-34-fk5.1.md",
        "status": "todo",
        "title": "Implement cai exec command",
        "updated_at": "2026-01-28T10:18:56.075722Z"
      },
      "id": "fn-34-fk5.1",
      "runtime": {
        "evidence": {
          "commits": [],
          "prs": [],
          "tests": []
        },
        "status": "done",
        "updated_at": "2026-01-28T19:47:03.343869Z"
      },
      "spec": "# fn-34-fk5.1 Implement cai exec command\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nSuperseded by fn-36-rb7.6 (cai exec command)\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T18:29:47.715375Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.10",
        "priority": 1,
        "spec_path": ".flow/tasks/fn-34-fk5.10.md",
        "status": "todo",
        "title": "Redesign cai run command syntax",
        "updated_at": "2026-01-28T18:29:47.715384Z"
      },
      "id": "fn-34-fk5.10",
      "runtime": null,
      "spec": "# fn-34-fk5.10 Redesign cai run command syntax\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T18:29:47.787666Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.11",
        "priority": 2,
        "spec_path": ".flow/tasks/fn-34-fk5.11.md",
        "status": "todo",
        "title": "Implement default agent configuration",
        "updated_at": "2026-01-28T18:29:47.787679Z"
      },
      "id": "fn-34-fk5.11",
      "runtime": null,
      "spec": "# fn-34-fk5.11 Implement default agent configuration\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T18:29:47.859521Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.12",
        "priority": 3,
        "spec_path": ".flow/tasks/fn-34-fk5.12.md",
        "status": "todo",
        "title": "Update cai no-params to show help",
        "updated_at": "2026-01-28T18:29:47.859530Z"
      },
      "id": "fn-34-fk5.12",
      "runtime": null,
      "spec": "# fn-34-fk5.12 Update cai no-params to show help\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T18:29:47.927349Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.13",
        "priority": 4,
        "spec_path": ".flow/tasks/fn-34-fk5.13.md",
        "status": "todo",
        "title": "Implement helpful error for missing agent",
        "updated_at": "2026-01-28T18:29:47.927362Z"
      },
      "id": "fn-34-fk5.13",
      "runtime": null,
      "spec": "# fn-34-fk5.13 Implement helpful error for missing agent\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T18:29:48.000421Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.14",
        "priority": 7,
        "spec_path": ".flow/tasks/fn-34-fk5.14.md",
        "status": "todo",
        "title": "Document handy aliases",
        "updated_at": "2026-01-28T18:29:48.000435Z"
      },
      "id": "fn-34-fk5.14",
      "runtime": null,
      "spec": "# fn-34-fk5.14 Document handy aliases\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T18:33:06.910081Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.15",
        "priority": 11,
        "spec_path": ".flow/tasks/fn-34-fk5.15.md",
        "status": "todo",
        "title": "Implement cai gc command (from fn-19-qni)",
        "updated_at": "2026-01-28T18:33:06.910095Z"
      },
      "id": "fn-34-fk5.15",
      "runtime": null,
      "spec": "# fn-34-fk5.15 Implement cai gc command (from fn-19-qni)\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T18:33:06.980722Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.16",
        "priority": 12,
        "spec_path": ".flow/tasks/fn-34-fk5.16.md",
        "status": "todo",
        "title": "Add --reset flag to cai run (from fn-19-qni)",
        "updated_at": "2026-01-28T18:33:06.980739Z"
      },
      "id": "fn-34-fk5.16",
      "runtime": null,
      "spec": "# fn-34-fk5.16 Add --reset flag to cai run (from fn-19-qni)\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T18:33:07.049603Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.17",
        "priority": 13,
        "spec_path": ".flow/tasks/fn-34-fk5.17.md",
        "status": "todo",
        "title": "Implement --container parameter (from fn-18-g96)",
        "updated_at": "2026-01-28T18:33:07.049616Z"
      },
      "id": "fn-34-fk5.17",
      "runtime": {
        "evidence": {
          "commits": [],
          "prs": [],
          "tests": []
        },
        "status": "done",
        "updated_at": "2026-01-28T19:47:03.412119Z"
      },
      "spec": "# fn-34-fk5.17 Implement --container parameter (from fn-18-g96)\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nSuperseded by fn-36-rb7.2 (consistent --container semantics)\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T18:33:07.118994Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.18",
        "priority": 14,
        "spec_path": ".flow/tasks/fn-34-fk5.18.md",
        "status": "todo",
        "title": "Implement container lookup helper (from fn-18-g96)",
        "updated_at": "2026-01-28T18:33:07.119006Z"
      },
      "id": "fn-34-fk5.18",
      "runtime": {
        "evidence": {
          "commits": [],
          "prs": [],
          "tests": []
        },
        "status": "done",
        "updated_at": "2026-01-28T19:47:03.481735Z"
      },
      "spec": "# fn-34-fk5.18 Implement container lookup helper (from fn-18-g96)\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nSuperseded by fn-36-rb7.11 (container lookup helper)\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T10:18:56.147101Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.2",
        "priority": 2,
        "spec_path": ".flow/tasks/fn-34-fk5.2.md",
        "status": "todo",
        "title": "Implement stdio/stderr passthrough",
        "updated_at": "2026-01-28T10:18:56.147115Z"
      },
      "id": "fn-34-fk5.2",
      "runtime": null,
      "spec": "# fn-34-fk5.2 Implement stdio/stderr passthrough\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T10:18:56.217345Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.3",
        "priority": 3,
        "spec_path": ".flow/tasks/fn-34-fk5.3.md",
        "status": "todo",
        "title": "Implement exit code passthrough",
        "updated_at": "2026-01-28T10:18:56.217355Z"
      },
      "id": "fn-34-fk5.3",
      "runtime": null,
      "spec": "# fn-34-fk5.3 Implement exit code passthrough\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T10:18:56.284371Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.4",
        "priority": 4,
        "spec_path": ".flow/tasks/fn-34-fk5.4.md",
        "status": "todo",
        "title": "Implement session detection",
        "updated_at": "2026-01-28T10:18:56.284381Z"
      },
      "id": "fn-34-fk5.4",
      "runtime": null,
      "spec": "# fn-34-fk5.4 Implement session detection\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T10:18:56.353755Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.5",
        "priority": 5,
        "spec_path": ".flow/tasks/fn-34-fk5.5.md",
        "status": "todo",
        "title": "Add session warning to cai stop",
        "updated_at": "2026-01-28T10:18:56.353769Z"
      },
      "id": "fn-34-fk5.5",
      "runtime": null,
      "spec": "# fn-34-fk5.5 Add session warning to cai stop\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T10:18:56.428650Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.6",
        "priority": 6,
        "spec_path": ".flow/tasks/fn-34-fk5.6.md",
        "status": "todo",
        "title": "Implement cai status command",
        "updated_at": "2026-01-28T10:18:56.428681Z"
      },
      "id": "fn-34-fk5.6",
      "runtime": null,
      "spec": "# fn-34-fk5.6 Implement cai status command\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T10:18:56.497053Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.7",
        "priority": 7,
        "spec_path": ".flow/tasks/fn-34-fk5.7.md",
        "status": "todo",
        "title": "Document container lifecycle behavior",
        "updated_at": "2026-01-28T10:18:56.497065Z"
      },
      "id": "fn-34-fk5.7",
      "runtime": null,
      "spec": "# fn-34-fk5.7 Document container lifecycle behavior\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T10:18:56.566302Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.8",
        "priority": 8,
        "spec_path": ".flow/tasks/fn-34-fk5.8.md",
        "status": "todo",
        "title": "Add --export flag to cai stop",
        "updated_at": "2026-01-28T10:18:56.566315Z"
      },
      "id": "fn-34-fk5.8",
      "runtime": null,
      "spec": "# fn-34-fk5.8 Add --export flag to cai stop\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-01-28T10:18:56.639159Z",
        "depends_on": [],
        "epic": "fn-34-fk5",
        "id": "fn-34-fk5.9",
        "priority": 9,
        "spec_path": ".flow/tasks/fn-34-fk5.9.md",
        "status": "todo",
        "title": "Integrate with cai gc",
        "updated_at": "2026-01-28T10:18:56.639170Z"
      },
      "id": "fn-34-fk5.9",
      "runtime": null,
      "spec": "# fn-34-fk5.9 Integrate with cai gc\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    }
  ]
}
